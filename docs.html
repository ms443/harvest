<!DOCTYPE html><html><head><meta charSet="utf-8"/><title>Harvest | Documentation</title><meta name="description" content=""/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta property="og:title" content="Harvest | Documentation"/><meta property="og:type" content="website"/><meta property="og:image" content="https://tfukaza.github.io/harvest/logo.png"/><link rel="icon" href="/favicon.ico"/><meta name="next-head-count" content="8"/><link rel="preload" href="/harvest/_next/static/css/9234f076af674b46f1fa.css" as="style"/><link rel="stylesheet" href="/harvest/_next/static/css/9234f076af674b46f1fa.css" data-n-g=""/><link rel="preload" href="/harvest/_next/static/css/b0891fd5c9311a666fd8.css" as="style"/><link rel="stylesheet" href="/harvest/_next/static/css/b0891fd5c9311a666fd8.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/harvest/_next/static/chunks/polyfills-a54b4f32bdc1ef890ddd.js"></script><script src="/harvest/_next/static/chunks/webpack-cbbc29f1abb9f2e9dccd.js" defer=""></script><script src="/harvest/_next/static/chunks/framework-64eb7138163e04c228e4.js" defer=""></script><script src="/harvest/_next/static/chunks/main-5ce060fea79805d6dc3e.js" defer=""></script><script src="/harvest/_next/static/chunks/pages/_app-2767ddbc84b83c8aece3.js" defer=""></script><script src="/harvest/_next/static/chunks/317-143a9250ab4e47b62052.js" defer=""></script><script src="/harvest/_next/static/chunks/793-93caa09111e52b563b2c.js" defer=""></script><script src="/harvest/_next/static/chunks/pages/docs-c31e1a030798905d5ea0.js" defer=""></script><script src="/harvest/_next/static/JpIQgAprTbrp6nyKNLuiq/_buildManifest.js" defer=""></script><script src="/harvest/_next/static/JpIQgAprTbrp6nyKNLuiq/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="Home_container__3sao-"><nav class="Home_nav__2iapp"><div><a id="Home_logo__3GqVp" href="/harvest"><img src="/harvest//wordmark.svg" alt="img"/></a></div><div><a href="/harvest/tutorial">Tutorials</a><a href="/harvest/docs">Docs</a></div><div><a class="rowcrop_button__1n6eZ Home_github__3XEl-" href="https://github.com/tfukaza/harvest">GitHub</a></div></nav><main class="Home_main__1Z1aG"><nav class="Doc_nav__2GF3d rowcrop_card__25eqx"><h3>Algo</h3><h3>Trader</h3><h3>BackTester</h3></nav><section class="Home_section__354aW"><h1>Documentation</h1><h2 class="Doc_className__38Gp3">harvest.Algo</h2><div class="Doc_entry__10WMz" id="buy"><pre class="hljs"><code class="language-python" style="white-space:pre"><span class="">buy(self, symbol, quantity, in_force, extended)</span></code></pre><p>Buys the specified asset.</p><p>When called, a limit buy order is placed with a limit
price 5% higher than the current price.</p><div class="Doc_paramHeader__3-mXJ"><h3>Params:</h3><h4>Default</h4><div><p>• <!-- -->symbol</p><p> (<!-- -->str<!-- -->):</p><p>Symbol of the asset to buy. </p><p>first symbol in watchlist</p><p></p></div><div><p>• <!-- -->quantity</p><p> (<!-- -->float<!-- -->):</p><p>Quantity of asset to buy. </p><p>buys as many as possible</p><p></p></div><div><p>• <!-- -->in_force</p><p> (<!-- -->str<!-- -->):</p><p>Duration the order is in force. &#x27;<span class="Doc_lookup__1eTBB"><span>Good-Til-Cancelled. Order will be pending until it is filled or cancelled</span>gtc</span>&#x27; or &#x27;<span class="Doc_lookup__1eTBB"><span>Good-Til-Day. If the order is not filled by the end of the trading day, it will be cancelled</span>gtd</span>&#x27;. </p><p>&#x27;gtc&#x27;</p><p></p></div><div><p>• <!-- -->extended</p><p> (<!-- -->str<!-- -->):</p><p>Whether to trade in extended hours or not. </p><p>False</p><p></p></div></div><div class="Doc_paramReturn__35Fxt"><h3>Returns:</h3><p>The following Python dictionary</p><ul><li>type: str, &#x27;STOCK&#x27; or &#x27;CRYPTO&#x27;</li><li>id: str, ID of order</li><li>symbol: str, symbol of asset</li></ul></div><div class="Doc_paramRaise__3igaR"><h3>Raises:</h3><ul class="Doc_raises__2IpAt"><li><span>Exception: </span>There is an error in the order process.</li></ul></div></div><div class="Doc_entry__10WMz" id="buy_option"><pre class="hljs"><code class="language-python" style="white-space:pre"><span class="">buy_option(self, symbol, quantity, in_force)</span></code></pre><p>Buys the specified option.</p><p>When called, a limit buy order is placed with a limit
price 5% higher than the current price.</p><div class="Doc_paramHeader__3-mXJ"><h3>Params:</h3><h4>Default</h4><div><p>• <!-- -->symbol</p><p> (<!-- -->str<!-- -->):</p><p>Symbol of the asset to buy, in <span class="Doc_lookup__1eTBB"><span>A standard for identifying option securities. See <a href='https://en.wikipedia.org/wiki/Option_symbol'>the Wikipedia page</a> for details.</span>OCC</span> format</p><p></p><p></p></div><div><p>• <!-- -->quantity</p><p> (<!-- -->float<!-- -->):</p><p>Quantity of asset to buy. </p><p>buys as many as possible</p><p></p></div><div><p>• <!-- -->in_force</p><p> (<!-- -->str<!-- -->):</p><p>Duration the order is in force. &#x27;<span class="Doc_lookup__1eTBB"><span>Good-Til-Cancelled. Order will be pending until it is filled or cancelled</span>gtc</span>&#x27; or &#x27;<span class="Doc_lookup__1eTBB"><span>Good-Til-Day. If the order is not filled by the end of the trading day, it will be cancelled</span>gtd</span>&#x27;. </p><p>&#x27;gtc&#x27;</p><p></p></div></div><div class="Doc_paramReturn__35Fxt"><h3>Returns:</h3><p>A dictionary with the following keys:</p><ul><li>type: &#x27;OPTION&#x27;</li><li>id: ID of order</li><li>symbol: symbol of asset</li></ul></div><div class="Doc_paramRaise__3igaR"><h3>Raises:</h3><ul class="Doc_raises__2IpAt"><li><span>Exception: </span>There is an error in the order process.</li></ul></div></div><div class="Doc_entry__10WMz" id="sell"><pre class="hljs"><code class="language-python" style="white-space:pre"><span class="">sell(self, symbol, quantity, in_force, extended)</span></code></pre><p>Sells the specified asset.</p><p>When called, a limit sell order is placed with a limit
price 5% lower than the current price.</p><div class="Doc_paramHeader__3-mXJ"><h3>Params:</h3><h4>Default</h4><div><p>• <!-- -->symbol</p><p> (<!-- -->str<!-- -->):</p><p>Symbol of the asset to sell. </p><p>first symbol in watchlist</p><p></p></div><div><p>• <!-- -->quantity</p><p> (<!-- -->float<!-- -->):</p><p>Quantity of asset to sell </p><p>sells all</p><p></p></div><div><p>• <!-- -->in_force</p><p> (<!-- -->str<!-- -->):</p><p>Duration the order is in force. &#x27;<span class="Doc_lookup__1eTBB"><span>Good-Til-Cancelled. Order will be pending until it is filled or cancelled</span>gtc</span>&#x27; or &#x27;<span class="Doc_lookup__1eTBB"><span>Good-Til-Day. If the order is not filled by the end of the trading day, it will be cancelled</span>gtd</span>&#x27;. </p><p>&#x27;gtc&#x27;</p><p></p></div><div><p>• <!-- -->extended</p><p> (<!-- -->str<!-- -->):</p><p>Whether to trade in extended hours or not. </p><p>False</p><p></p></div></div><div class="Doc_paramReturn__35Fxt"><h3>Returns:</h3><p>A dictionary with the following keys:</p><ul><li>type: str, &#x27;STOCK&#x27; or &#x27;CRYPTO&#x27;</li><li>id: str, ID of order</li><li>symbol: str, symbol of asset</li></ul></div><div class="Doc_paramRaise__3igaR"><h3>Raises:</h3><ul class="Doc_raises__2IpAt"><li><span>Exception: </span>There is an error in the order process.</li></ul></div></div><div class="Doc_entry__10WMz" id="sell_option"><pre class="hljs"><code class="language-python" style="white-space:pre"><span class="">sell_option(self, symbol, quantity, in_force)</span></code></pre><p>Sells the specified option.</p><p>When called, a limit sell order is placed with a limit
price 5% lower than the current price.

If the option symbol is specified, it will sell that option. If it is not, then the
method will select the first stock symbol in the watchlist, and sell all options
related to that stock.</p><div class="Doc_paramHeader__3-mXJ"><h3>Params:</h3><h4>Default</h4><div><p>• <!-- -->symbol</p><p> (<!-- -->str<!-- -->):</p><p>Symbol of the asset to sell, in <span class="Doc_lookup__1eTBB"><span>A standard for identifying option securities. See <a href='https://en.wikipedia.org/wiki/Option_symbol'>the Wikipedia page</a> for details.</span>OCC</span> format. </p><p>sell all options for the first stock in watchlist</p><p></p></div><div><p>• <!-- -->quantity</p><p> (<!-- -->float<!-- -->):</p><p>Quantity of asset to sell. </p><p>sells all</p><p></p></div><div><p>• <!-- -->in_force</p><p> (<!-- -->str<!-- -->):</p><p>Duration the order is in force. &#x27;<span class="Doc_lookup__1eTBB"><span>Good-Til-Cancelled. Order will be pending until it is filled or cancelled</span>gtc</span>&#x27; or &#x27;<span class="Doc_lookup__1eTBB"><span>Good-Til-Day. If the order is not filled by the end of the trading day, it will be cancelled</span>gtd</span>&#x27;. </p><p>&#x27;gtc&#x27;</p><p></p></div></div><div class="Doc_paramReturn__35Fxt"><h3>Returns:</h3><p>A dictionary with the following keys:</p><ul><li>type: &#x27;OPTION&#x27;</li><li>id: ID of order</li><li>symbol: symbol of asset</li></ul></div><div class="Doc_paramRaise__3igaR"><h3>Raises:</h3><ul class="Doc_raises__2IpAt"><li><span>Exception: </span>There is an error in the order process.</li></ul></div></div><div class="Doc_entry__10WMz" id="get_option_market_data"><pre class="hljs"><code class="language-python" style="white-space:pre"><span class="">get_option_market_data(self, symbol)</span></code></pre><p>Retrieves data of specified option.</p><p></p><div class="Doc_paramHeader__3-mXJ"><h3>Params:</h3><h4>Default</h4><div><p>• <!-- -->symbol</p><p> (<!-- -->str<!-- -->):</p><p><span class="Doc_lookup__1eTBB"><span>A standard for identifying option securities. See <a href='https://en.wikipedia.org/wiki/Option_symbol'>the Wikipedia page</a> for details.</span>OCC</span> symbol of optio</p><p></p><p></p></div></div><div class="Doc_paramReturn__35Fxt"><h3>Returns:</h3><p>A dictionary:</p><ul><li>price: price of option</li><li>ask: ask price</li><li>bid: bid price</li></ul></div><div class="Doc_paramRaise__3igaR"><h3>Raises:</h3><ul class="Doc_raises__2IpAt"></ul></div></div><div class="Doc_entry__10WMz" id="get_option_chain"><pre class="hljs"><code class="language-python" style="white-space:pre"><span class="">get_option_chain(self, symbol, date)</span></code></pre><p>Returns the option chain for the specified symbol and expiration date.</p><p></p><div class="Doc_paramHeader__3-mXJ"><h3>Params:</h3><h4>Default</h4><div><p>• <!-- -->symbol</p><p> (<!-- -->str<!-- -->):</p><p>symbol of stoc</p><p></p><p></p></div><div><p>• <!-- -->date</p><p> (<!-- -->dt.datetime<!-- -->):</p><p>date of option expiratio</p><p></p><p></p></div></div><div class="Doc_paramReturn__35Fxt"><h3>Returns:</h3><p>A dataframe with the follwing columns:</p><ul><li>exp_date(datetime.datetime): The expiration date</li><li>strike(float): Strike price</li><li>type(str): &#x27;call&#x27; or &#x27;put&#x27;</li></ul><p>

The index is the {OCC} symbol of the option.</p></div><div class="Doc_paramRaise__3igaR"><h3>Raises:</h3><ul class="Doc_raises__2IpAt"></ul></div></div><div class="Doc_entry__10WMz" id="get_option_chain_info"><pre class="hljs"><code class="language-python" style="white-space:pre"><span class="">get_option_chain_info(self, symbol)</span></code></pre><p>Returns metadata about a stock&#x27;s option chain</p><p></p><div class="Doc_paramHeader__3-mXJ"><h3>Params:</h3><h4>Default</h4><div><p>• <!-- -->symbol</p><p> (<!-- -->str<!-- -->):</p><p>symbol of stock. </p><p>first symbol in watchlist</p><p></p></div></div><div class="Doc_paramReturn__35Fxt"><h3>Returns:</h3><p>A dict with the following keys:</p><ul><li>exp_dates: List of expiration dates, in the fomrat &quot;YYYY-MM-DD&quot;</li><li>multiplier: Multiplier of the option, usually 100</li></ul></div><div class="Doc_paramRaise__3igaR"><h3>Raises:</h3><ul class="Doc_raises__2IpAt"></ul></div></div><div class="Doc_entry__10WMz" id="ema"><pre class="hljs"><code class="language-python" style="white-space:pre"><span class="">ema(self, symbol, period, interval, ref, prices)</span></code></pre><p>Calculate EMA</p><p></p><div class="Doc_paramHeader__3-mXJ"><h3>Params:</h3><h4>Default</h4><div><p>• <!-- -->symbol</p><p> (<!-- -->str<!-- -->):</p><p>Symbol to perform calculation on. </p><p>first symbol in watchlist</p><p></p></div><div><p>• <!-- -->period</p><p> (<!-- -->int<!-- -->):</p><p>Period of EMA. </p><p>14</p><p></p></div><div><p>• <!-- -->interval</p><p> (<!-- -->str<!-- -->):</p><p>Interval to perform the calculation. </p><p>interval of algorithm</p><p></p></div><div><p>• <!-- -->ref</p><p> (<!-- -->str<!-- -->):</p><p>&#x27;close&#x27;, &#x27;open&#x27;, &#x27;high&#x27;, or &#x27;low&#x27;. </p><p>&#x27;close&#x27;</p><p></p></div><div><p>• <!-- -->prices</p><p> (<!-- -->list<!-- -->):</p><p>When specified, this function will use the values provided in the
list to perform calculations and ignore other parameters. </p><p>None</p><p></p></div></div><div class="Doc_paramReturn__35Fxt"><h3>Returns:</h3><p>A list in numpy format, containing EMA values</p></div><div class="Doc_paramRaise__3igaR"><h3>Raises:</h3><ul class="Doc_raises__2IpAt"></ul></div></div><div class="Doc_entry__10WMz" id="rsi"><pre class="hljs"><code class="language-python" style="white-space:pre"><span class="">rsi(self, symbol, period, interval, ref, prices)</span></code></pre><p>Calculate RSI</p><p></p><div class="Doc_paramHeader__3-mXJ"><h3>Params:</h3><h4>Default</h4><div><p>• <!-- -->symbol</p><p> (<!-- -->str<!-- -->):</p><p>Symbol to perform calculation on. </p><p>first symbol in watchlist</p><p></p></div><div><p>• <!-- -->period</p><p> (<!-- -->int<!-- -->):</p><p>Period of RSI. </p><p>14</p><p></p></div><div><p>• <!-- -->interval</p><p> (<!-- -->str<!-- -->):</p><p>Interval to perform the calculation. </p><p>interval of algorithm</p><p></p></div><div><p>• <!-- -->ref</p><p> (<!-- -->str<!-- -->):</p><p>&#x27;close&#x27;, &#x27;open&#x27;, &#x27;high&#x27;, or &#x27;low&#x27;. </p><p>&#x27;close&#x27;</p><p></p></div><div><p>• <!-- -->prices</p><p> (<!-- -->list<!-- -->):</p><p>When specified, this function will use the values provided in the
list to perform calculations and ignore other parameters. </p><p>None</p><p></p></div></div><div class="Doc_paramReturn__35Fxt"><h3>Returns:</h3><p>A list in numpy format, containing RSI values</p></div><div class="Doc_paramRaise__3igaR"><h3>Raises:</h3><ul class="Doc_raises__2IpAt"></ul></div></div><div class="Doc_entry__10WMz" id="sma"><pre class="hljs"><code class="language-python" style="white-space:pre"><span class="">sma(self, symbol, period, interval, ref, prices)</span></code></pre><p>Calculate SMA</p><p></p><div class="Doc_paramHeader__3-mXJ"><h3>Params:</h3><h4>Default</h4><div><p>• <!-- -->symbol</p><p> (<!-- -->str<!-- -->):</p><p>Symbol to perform calculation on. </p><p>first symbol in watchlist</p><p></p></div><div><p>• <!-- -->period</p><p> (<!-- -->int<!-- -->):</p><p>Period of SMA. </p><p>14</p><p></p></div><div><p>• <!-- -->interval</p><p> (<!-- -->str<!-- -->):</p><p>Interval to perform the calculation. </p><p>interval of algorithm</p><p></p></div><div><p>• <!-- -->ref</p><p> (<!-- -->str<!-- -->):</p><p>&#x27;close&#x27;, &#x27;open&#x27;, &#x27;high&#x27;, or &#x27;low&#x27;. </p><p>&#x27;close&#x27;</p><p></p></div><div><p>• <!-- -->prices</p><p> (<!-- -->list<!-- -->):</p><p>When specified, this function will use the values provided in the
list to perform calculations and ignore other parameters. </p><p>None</p><p></p></div></div><div class="Doc_paramReturn__35Fxt"><h3>Returns:</h3><p>A list in numpy format, containing SMA values</p></div><div class="Doc_paramRaise__3igaR"><h3>Raises:</h3><ul class="Doc_raises__2IpAt"></ul></div></div><div class="Doc_entry__10WMz" id="bbands"><pre class="hljs"><code class="language-python" style="white-space:pre"><span class="">bbands(self, symbol, period, interval, ref, dev, prices)</span></code></pre><p>Calculate Bollinger Bands</p><p></p><div class="Doc_paramHeader__3-mXJ"><h3>Params:</h3><h4>Default</h4><div><p>• <!-- -->symbol</p><p> (<!-- -->str<!-- -->):</p><p>Symbol to perform calculation on. </p><p>first symbol in watchlist</p><p></p></div><div><p>• <!-- -->period</p><p> (<!-- -->int<!-- -->):</p><p>Period of BBands. </p><p>14</p><p></p></div><div><p>• <!-- -->interval</p><p> (<!-- -->str<!-- -->):</p><p>Interval to perform the calculation. </p><p>interval of algorithm</p><p></p></div><div><p>• <!-- -->ref</p><p> (<!-- -->str<!-- -->):</p><p>&#x27;close&#x27;, &#x27;open&#x27;, &#x27;high&#x27;, or &#x27;low&#x27;. </p><p>&#x27;close&#x27;</p><p></p></div><div><p>• <!-- -->dev</p><p> (<!-- -->float<!-- -->):</p><p>Standard deviation of the bands. </p><p>1.0</p><p></p></div><div><p>• <!-- -->prices</p><p> (<!-- -->list<!-- -->):</p><p>When specified, this function will use the values provided in the
list to perform calculations and ignore other parameters. </p><p>None</p><p></p></div></div><div class="Doc_paramReturn__35Fxt"><h3>Returns:</h3><p>A tuple of numpy lists, each a list of BBand top, average, and bottom values</p></div><div class="Doc_paramRaise__3igaR"><h3>Raises:</h3><ul class="Doc_raises__2IpAt"></ul></div></div><div class="Doc_entry__10WMz" id="get_account_buying_power"><pre class="hljs"><code class="language-python" style="white-space:pre"><span class="">get_account_buying_power(self)</span></code></pre><p>Returns the current buying power of the user</p><p></p><div class="Doc_paramHeader__3-mXJ"><h3>Params:</h3><h4>Default</h4></div><div class="Doc_paramReturn__35Fxt"><h3>Returns:</h3><p>The current buying power as a float.</p></div><div class="Doc_paramRaise__3igaR"><h3>Raises:</h3><ul class="Doc_raises__2IpAt"></ul></div></div><div class="Doc_entry__10WMz" id="get_account_equity"><pre class="hljs"><code class="language-python" style="white-space:pre"><span class="">get_account_equity(self)</span></code></pre><p>Returns the current equity.</p><p></p><div class="Doc_paramHeader__3-mXJ"><h3>Params:</h3><h4>Default</h4></div><div class="Doc_paramReturn__35Fxt"><h3>Returns:</h3><p>The current equity as a float.</p></div><div class="Doc_paramRaise__3igaR"><h3>Raises:</h3><ul class="Doc_raises__2IpAt"></ul></div></div><div class="Doc_entry__10WMz" id="get_asset_candle"><pre class="hljs"><code class="language-python" style="white-space:pre"><span class="">get_asset_candle(self, symbol)</span></code></pre><p>Returns the most recent candle as a pandas DataFrame</p><p>This function is not compatible with options.</p><div class="Doc_paramHeader__3-mXJ"><h3>Params:</h3><h4>Default</h4><div><p>• <!-- -->symbol</p><p> (<!-- -->str<!-- -->):</p><p>Symbol of stock or crypto asset. </p><p>first symbol in watchlist</p><p></p></div></div><div class="Doc_paramReturn__35Fxt"><h3>Returns:</h3><p>Price of asset as a dataframe with the following columns:</p><ul><li>open</li><li>high</li><li>low</li><li>close</li><li>volume</li></ul><p>

The index is a datetime object</p></div><div class="Doc_paramRaise__3igaR"><h3>Raises:</h3><ul class="Doc_raises__2IpAt"><li><span>Exception: </span>If symbol is not in the watchlist.</li></ul></div></div><div class="Doc_entry__10WMz" id="get_asset_candle_list"><pre class="hljs"><code class="language-python" style="white-space:pre"><span class="">get_asset_candle_list(self, symbol)</span></code></pre><p>Returns the candles of an asset as a pandas DataFrame</p><p>This function is not compatible with options.</p><div class="Doc_paramHeader__3-mXJ"><h3>Params:</h3><h4>Default</h4><div><p>• <!-- -->symbol</p><p> (<!-- -->str<!-- -->):</p><p>Symbol of stock or crypto asset. </p><p>first symbol in watchlist</p><p></p></div></div><div class="Doc_paramReturn__35Fxt"><h3>Returns:</h3><p>Prices of asset as a dataframe with the following columns:</p><ul><li>open</li><li>high</li><li>low</li><li>close</li><li>volume</li></ul><p>

The index is a datetime object</p></div><div class="Doc_paramRaise__3igaR"><h3>Raises:</h3><ul class="Doc_raises__2IpAt"><li><span>Exception: </span>If symbol is not in the watchlist.</li></ul></div></div><div class="Doc_entry__10WMz" id="get_asset_cost"><pre class="hljs"><code class="language-python" style="white-space:pre"><span class="">get_asset_cost(self, symbol)</span></code></pre><p>Returns the average cost of a specified asset.</p><p></p><div class="Doc_paramHeader__3-mXJ"><h3>Params:</h3><h4>Default</h4><div><p>• <!-- -->symbol</p><p> (<!-- -->str<!-- -->):</p><p>Symbol of asset. </p><p>first symbol in watchlist</p><p></p></div></div><div class="Doc_paramReturn__35Fxt"><h3>Returns:</h3><p>Average cost of asset. Returns None if asset is not being tracked.</p></div><div class="Doc_paramRaise__3igaR"><h3>Raises:</h3><ul class="Doc_raises__2IpAt"><li><span>Exception: </span>If symbol is not currently owned.</li></ul></div></div><div class="Doc_entry__10WMz" id="get_date"><pre class="hljs"><code class="language-python" style="white-space:pre"><span class="">get_date(self)</span></code></pre><p>Returns the current date.</p><p></p><div class="Doc_paramHeader__3-mXJ"><h3>Params:</h3><h4>Default</h4></div><div class="Doc_paramReturn__35Fxt"><h3>Returns:</h3><p>The current date as a datetime object</p></div><div class="Doc_paramRaise__3igaR"><h3>Raises:</h3><ul class="Doc_raises__2IpAt"></ul></div></div><div class="Doc_entry__10WMz" id="get_datetime"><pre class="hljs"><code class="language-python" style="white-space:pre"><span class="">get_datetime(self)</span></code></pre><p>Returns the current date and time.</p><p>This returns the current time, which is different from the timestamp
on a ticker. For example, if you are running an algorithm every 5 minutes,
at 11:30am you will get a ticker for 11:25am. This function will return
11:30am.</p><div class="Doc_paramHeader__3-mXJ"><h3>Params:</h3><h4>Default</h4></div><div class="Doc_paramReturn__35Fxt"><h3>Returns:</h3><p>The current date and time as a datetime object</p></div><div class="Doc_paramRaise__3igaR"><h3>Raises:</h3><ul class="Doc_raises__2IpAt"></ul></div></div><div class="Doc_entry__10WMz" id="get_asset_price"><pre class="hljs"><code class="language-python" style="white-space:pre"><span class="">get_asset_price(self, symbol)</span></code></pre><p>Returns the current price of a specified asset.</p><p></p><div class="Doc_paramHeader__3-mXJ"><h3>Params:</h3><h4>Default</h4><div><p>• <!-- -->symbol</p><p> (<!-- -->str<!-- -->):</p><p>Symbol of asset. </p><p>first symbol in watchlist</p><p></p></div></div><div class="Doc_paramReturn__35Fxt"><h3>Returns:</h3><p>Price of asset.</p></div><div class="Doc_paramRaise__3igaR"><h3>Raises:</h3><ul class="Doc_raises__2IpAt"><li><span>Exception: </span>If symbol is not in the watchlist.</li></ul></div></div><div class="Doc_entry__10WMz" id="get_asset_price_list"><pre class="hljs"><code class="language-python" style="white-space:pre"><span class="">get_asset_price_list(self, symbol, interval, ref)</span></code></pre><p>Returns a list of recent prices for an asset.</p><p>This function is not compatible with options.</p><div class="Doc_paramHeader__3-mXJ"><h3>Params:</h3><h4>Default</h4><div><p>• <!-- -->symbol</p><p> (<!-- -->str<!-- -->):</p><p>Symbol of stock or crypto asset. </p><p>first symbol in watchlist</p><p></p></div><div><p>• <!-- -->interval</p><p> (<!-- -->str<!-- -->):</p><p>Interval of data. </p><p>the interval of the algorithm</p><p></p></div><div><p>• <!-- -->ref</p><p> (<!-- -->str<!-- -->):</p><p>&#x27;close&#x27;, &#x27;open&#x27;, &#x27;high&#x27;, or &#x27;low&#x27;. </p><p>&#x27;close&#x27;</p><p></p></div></div><div class="Doc_paramReturn__35Fxt"><h3>Returns:</h3><p>List of prices</p></div><div class="Doc_paramRaise__3igaR"><h3>Raises:</h3><ul class="Doc_raises__2IpAt"></ul></div></div><div class="Doc_entry__10WMz" id="get_asset_quantity"><pre class="hljs"><code class="language-python" style="white-space:pre"><span class="">get_asset_quantity(self, symbol)</span></code></pre><p>Returns the quantity owned of a specified asset.</p><p></p><div class="Doc_paramHeader__3-mXJ"><h3>Params:</h3><h4>Default</h4><div><p>• <!-- -->symbol</p><p> (<!-- -->str<!-- -->):</p><p>Symbol of asset. </p><p>first symbol in watchlist</p><p></p></div></div><div class="Doc_paramReturn__35Fxt"><h3>Returns:</h3><p>Quantity of asset as float. 0 if quantity is not owned.</p></div><div class="Doc_paramRaise__3igaR"><h3>Raises:</h3><ul class="Doc_raises__2IpAt"><li><span>null: </span></li></ul></div></div><div class="Doc_entry__10WMz" id="get_asset_returns"><pre class="hljs"><code class="language-python" style="white-space:pre"><span class="">get_asset_returns(self, symbol)</span></code></pre><p>Returns the return of a specified asset.</p><p></p><div class="Doc_paramHeader__3-mXJ"><h3>Params:</h3><h4>Default</h4><div><p>• <!-- -->symbol</p><p> (<!-- -->str<!-- -->):</p><p>Symbol of stock, crypto, or option. Options should be in <span class="Doc_lookup__1eTBB"><span>A standard for identifying option securities. See <a href='https://en.wikipedia.org/wiki/Option_symbol'>the Wikipedia page</a> for details.</span>OCC</span> format.
</p><p>first symbol in watchlist</p><p></p></div></div><div class="Doc_paramReturn__35Fxt"><h3>Returns:</h3><p>Return of asset, expressed as a decimal.</p></div><div class="Doc_paramRaise__3igaR"><h3>Raises:</h3><ul class="Doc_raises__2IpAt"></ul></div></div><div class="Doc_entry__10WMz" id="get_time"><pre class="hljs"><code class="language-python" style="white-space:pre"><span class="">get_time(self)</span></code></pre><p>Returns the current hour and minute.</p><p>This returns the current time, which is different from the timestamp
on a ticker. For example, if you are running an algorithm every 5 minutes,
at 11:30am you will get a ticker for 11:25am. This function will return
11:30am.</p><div class="Doc_paramHeader__3-mXJ"><h3>Params:</h3><h4>Default</h4></div><div class="Doc_paramReturn__35Fxt"><h3>Returns:</h3><p>The current time as a datetime object</p></div><div class="Doc_paramRaise__3igaR"><h3>Raises:</h3><ul class="Doc_raises__2IpAt"></ul></div></div><div class="Doc_entry__10WMz" id="buy"><pre class="hljs"><code class="language-python" style="white-space:pre"><span class="">buy(self, symbol, quantity, in_force, extended)</span></code></pre><p>Buys the specified asset.</p><p>When called, a limit buy order is placed with a limit
price 5% higher than the current price.</p><div class="Doc_paramHeader__3-mXJ"><h3>Params:</h3><h4>Default</h4><div><p>• <!-- -->symbol</p><p> (<!-- -->str<!-- -->):</p><p>Symbol of the asset to buy. </p><p>first symbol in watchlist</p><p></p></div><div><p>• <!-- -->quantity</p><p> (<!-- -->float<!-- -->):</p><p>Quantity of asset to buy. </p><p>buys as many as possible</p><p></p></div><div><p>• <!-- -->in_force</p><p> (<!-- -->str<!-- -->):</p><p>Duration the order is in force. &#x27;<span class="Doc_lookup__1eTBB"><span>Good-Til-Cancelled. Order will be pending until it is filled or cancelled</span>gtc</span>&#x27; or &#x27;<span class="Doc_lookup__1eTBB"><span>Good-Til-Day. If the order is not filled by the end of the trading day, it will be cancelled</span>gtd</span>&#x27;. </p><p>&#x27;gtc&#x27;</p><p></p></div><div><p>• <!-- -->extended</p><p> (<!-- -->str<!-- -->):</p><p>Whether to trade in extended hours or not. </p><p>False</p><p></p></div></div><div class="Doc_paramReturn__35Fxt"><h3>Returns:</h3><p>The following Python dictionary</p><ul><li>type: str, &#x27;STOCK&#x27; or &#x27;CRYPTO&#x27;</li><li>id: str, ID of order</li><li>symbol: str, symbol of asset</li></ul></div><div class="Doc_paramRaise__3igaR"><h3>Raises:</h3><ul class="Doc_raises__2IpAt"><li><span>Exception: </span>There is an error in the order process.</li></ul></div></div><div class="Doc_entry__10WMz" id="buy_option"><pre class="hljs"><code class="language-python" style="white-space:pre"><span class="">buy_option(self, symbol, quantity, in_force)</span></code></pre><p>Buys the specified option.</p><p>When called, a limit buy order is placed with a limit
price 5% higher than the current price.</p><div class="Doc_paramHeader__3-mXJ"><h3>Params:</h3><h4>Default</h4><div><p>• <!-- -->symbol</p><p> (<!-- -->str<!-- -->):</p><p>Symbol of the asset to buy, in <span class="Doc_lookup__1eTBB"><span>A standard for identifying option securities. See <a href='https://en.wikipedia.org/wiki/Option_symbol'>the Wikipedia page</a> for details.</span>OCC</span> format</p><p></p><p></p></div><div><p>• <!-- -->quantity</p><p> (<!-- -->float<!-- -->):</p><p>Quantity of asset to buy. </p><p>buys as many as possible</p><p></p></div><div><p>• <!-- -->in_force</p><p> (<!-- -->str<!-- -->):</p><p>Duration the order is in force. &#x27;<span class="Doc_lookup__1eTBB"><span>Good-Til-Cancelled. Order will be pending until it is filled or cancelled</span>gtc</span>&#x27; or &#x27;<span class="Doc_lookup__1eTBB"><span>Good-Til-Day. If the order is not filled by the end of the trading day, it will be cancelled</span>gtd</span>&#x27;. </p><p>&#x27;gtc&#x27;</p><p></p></div></div><div class="Doc_paramReturn__35Fxt"><h3>Returns:</h3><p>A dictionary with the following keys:</p><ul><li>type: &#x27;OPTION&#x27;</li><li>id: ID of order</li><li>symbol: symbol of asset</li></ul></div><div class="Doc_paramRaise__3igaR"><h3>Raises:</h3><ul class="Doc_raises__2IpAt"><li><span>Exception: </span>There is an error in the order process.</li></ul></div></div><div class="Doc_entry__10WMz" id="sell"><pre class="hljs"><code class="language-python" style="white-space:pre"><span class="">sell(self, symbol, quantity, in_force, extended)</span></code></pre><p>Sells the specified asset.</p><p>When called, a limit sell order is placed with a limit
price 5% lower than the current price.</p><div class="Doc_paramHeader__3-mXJ"><h3>Params:</h3><h4>Default</h4><div><p>• <!-- -->symbol</p><p> (<!-- -->str<!-- -->):</p><p>Symbol of the asset to sell. </p><p>first symbol in watchlist</p><p></p></div><div><p>• <!-- -->quantity</p><p> (<!-- -->float<!-- -->):</p><p>Quantity of asset to sell </p><p>sells all</p><p></p></div><div><p>• <!-- -->in_force</p><p> (<!-- -->str<!-- -->):</p><p>Duration the order is in force. &#x27;<span class="Doc_lookup__1eTBB"><span>Good-Til-Cancelled. Order will be pending until it is filled or cancelled</span>gtc</span>&#x27; or &#x27;<span class="Doc_lookup__1eTBB"><span>Good-Til-Day. If the order is not filled by the end of the trading day, it will be cancelled</span>gtd</span>&#x27;. </p><p>&#x27;gtc&#x27;</p><p></p></div><div><p>• <!-- -->extended</p><p> (<!-- -->str<!-- -->):</p><p>Whether to trade in extended hours or not. </p><p>False</p><p></p></div></div><div class="Doc_paramReturn__35Fxt"><h3>Returns:</h3><p>A dictionary with the following keys:</p><ul><li>type: str, &#x27;STOCK&#x27; or &#x27;CRYPTO&#x27;</li><li>id: str, ID of order</li><li>symbol: str, symbol of asset</li></ul></div><div class="Doc_paramRaise__3igaR"><h3>Raises:</h3><ul class="Doc_raises__2IpAt"><li><span>Exception: </span>There is an error in the order process.</li></ul></div></div><div class="Doc_entry__10WMz" id="sell_option"><pre class="hljs"><code class="language-python" style="white-space:pre"><span class="">sell_option(self, symbol, quantity, in_force)</span></code></pre><p>Sells the specified option.</p><p>When called, a limit sell order is placed with a limit
price 5% lower than the current price.

If the option symbol is specified, it will sell that option. If it is not, then the
method will select the first stock symbol in the watchlist, and sell all options
related to that stock.</p><div class="Doc_paramHeader__3-mXJ"><h3>Params:</h3><h4>Default</h4><div><p>• <!-- -->symbol</p><p> (<!-- -->str<!-- -->):</p><p>Symbol of the asset to sell, in <span class="Doc_lookup__1eTBB"><span>A standard for identifying option securities. See <a href='https://en.wikipedia.org/wiki/Option_symbol'>the Wikipedia page</a> for details.</span>OCC</span> format. </p><p>sell all options for the first stock in watchlist</p><p></p></div><div><p>• <!-- -->quantity</p><p> (<!-- -->float<!-- -->):</p><p>Quantity of asset to sell. </p><p>sells all</p><p></p></div><div><p>• <!-- -->in_force</p><p> (<!-- -->str<!-- -->):</p><p>Duration the order is in force. &#x27;<span class="Doc_lookup__1eTBB"><span>Good-Til-Cancelled. Order will be pending until it is filled or cancelled</span>gtc</span>&#x27; or &#x27;<span class="Doc_lookup__1eTBB"><span>Good-Til-Day. If the order is not filled by the end of the trading day, it will be cancelled</span>gtd</span>&#x27;. </p><p>&#x27;gtc&#x27;</p><p></p></div></div><div class="Doc_paramReturn__35Fxt"><h3>Returns:</h3><p>A dictionary with the following keys:</p><ul><li>type: &#x27;OPTION&#x27;</li><li>id: ID of order</li><li>symbol: symbol of asset</li></ul></div><div class="Doc_paramRaise__3igaR"><h3>Raises:</h3><ul class="Doc_raises__2IpAt"><li><span>Exception: </span>There is an error in the order process.</li></ul></div></div><div class="Doc_entry__10WMz" id="get_option_market_data"><pre class="hljs"><code class="language-python" style="white-space:pre"><span class="">get_option_market_data(self, symbol)</span></code></pre><p>Retrieves data of specified option.</p><p></p><div class="Doc_paramHeader__3-mXJ"><h3>Params:</h3><h4>Default</h4><div><p>• <!-- -->symbol</p><p> (<!-- -->str<!-- -->):</p><p><span class="Doc_lookup__1eTBB"><span>A standard for identifying option securities. See <a href='https://en.wikipedia.org/wiki/Option_symbol'>the Wikipedia page</a> for details.</span>OCC</span> symbol of optio</p><p></p><p></p></div></div><div class="Doc_paramReturn__35Fxt"><h3>Returns:</h3><p>A dictionary:</p><ul><li>price: price of option</li><li>ask: ask price</li><li>bid: bid price</li></ul></div><div class="Doc_paramRaise__3igaR"><h3>Raises:</h3><ul class="Doc_raises__2IpAt"></ul></div></div><div class="Doc_entry__10WMz" id="get_option_chain"><pre class="hljs"><code class="language-python" style="white-space:pre"><span class="">get_option_chain(self, symbol, date)</span></code></pre><p>Returns the option chain for the specified symbol and expiration date.</p><p></p><div class="Doc_paramHeader__3-mXJ"><h3>Params:</h3><h4>Default</h4><div><p>• <!-- -->symbol</p><p> (<!-- -->str<!-- -->):</p><p>symbol of stoc</p><p></p><p></p></div><div><p>• <!-- -->date</p><p> (<!-- -->dt.datetime<!-- -->):</p><p>date of option expiratio</p><p></p><p></p></div></div><div class="Doc_paramReturn__35Fxt"><h3>Returns:</h3><p>A dataframe with the follwing columns:</p><ul><li>exp_date(datetime.datetime): The expiration date</li><li>strike(float): Strike price</li><li>type(str): &#x27;call&#x27; or &#x27;put&#x27;</li></ul><p>

The index is the {OCC} symbol of the option.</p></div><div class="Doc_paramRaise__3igaR"><h3>Raises:</h3><ul class="Doc_raises__2IpAt"></ul></div></div><div class="Doc_entry__10WMz" id="get_option_chain_info"><pre class="hljs"><code class="language-python" style="white-space:pre"><span class="">get_option_chain_info(self, symbol)</span></code></pre><p>Returns metadata about a stock&#x27;s option chain</p><p></p><div class="Doc_paramHeader__3-mXJ"><h3>Params:</h3><h4>Default</h4><div><p>• <!-- -->symbol</p><p> (<!-- -->str<!-- -->):</p><p>symbol of stock. </p><p>first symbol in watchlist</p><p></p></div></div><div class="Doc_paramReturn__35Fxt"><h3>Returns:</h3><p>A dict with the following keys:</p><ul><li>exp_dates: List of expiration dates, in the fomrat &quot;YYYY-MM-DD&quot;</li><li>multiplier: Multiplier of the option, usually 100</li></ul></div><div class="Doc_paramRaise__3igaR"><h3>Raises:</h3><ul class="Doc_raises__2IpAt"></ul></div></div><div class="Doc_entry__10WMz" id="ema"><pre class="hljs"><code class="language-python" style="white-space:pre"><span class="">ema(self, symbol, period, interval, ref, prices)</span></code></pre><p>Calculate EMA</p><p></p><div class="Doc_paramHeader__3-mXJ"><h3>Params:</h3><h4>Default</h4><div><p>• <!-- -->symbol</p><p> (<!-- -->str<!-- -->):</p><p>Symbol to perform calculation on. </p><p>first symbol in watchlist</p><p></p></div><div><p>• <!-- -->period</p><p> (<!-- -->int<!-- -->):</p><p>Period of EMA. </p><p>14</p><p></p></div><div><p>• <!-- -->interval</p><p> (<!-- -->str<!-- -->):</p><p>Interval to perform the calculation. </p><p>interval of algorithm</p><p></p></div><div><p>• <!-- -->ref</p><p> (<!-- -->str<!-- -->):</p><p>&#x27;close&#x27;, &#x27;open&#x27;, &#x27;high&#x27;, or &#x27;low&#x27;. </p><p>&#x27;close&#x27;</p><p></p></div><div><p>• <!-- -->prices</p><p> (<!-- -->list<!-- -->):</p><p>When specified, this function will use the values provided in the
list to perform calculations and ignore other parameters. </p><p>None</p><p></p></div></div><div class="Doc_paramReturn__35Fxt"><h3>Returns:</h3><p>A list in numpy format, containing EMA values</p></div><div class="Doc_paramRaise__3igaR"><h3>Raises:</h3><ul class="Doc_raises__2IpAt"></ul></div></div><div class="Doc_entry__10WMz" id="rsi"><pre class="hljs"><code class="language-python" style="white-space:pre"><span class="">rsi(self, symbol, period, interval, ref, prices)</span></code></pre><p>Calculate RSI</p><p></p><div class="Doc_paramHeader__3-mXJ"><h3>Params:</h3><h4>Default</h4><div><p>• <!-- -->symbol</p><p> (<!-- -->str<!-- -->):</p><p>Symbol to perform calculation on. </p><p>first symbol in watchlist</p><p></p></div><div><p>• <!-- -->period</p><p> (<!-- -->int<!-- -->):</p><p>Period of RSI. </p><p>14</p><p></p></div><div><p>• <!-- -->interval</p><p> (<!-- -->str<!-- -->):</p><p>Interval to perform the calculation. </p><p>interval of algorithm</p><p></p></div><div><p>• <!-- -->ref</p><p> (<!-- -->str<!-- -->):</p><p>&#x27;close&#x27;, &#x27;open&#x27;, &#x27;high&#x27;, or &#x27;low&#x27;. </p><p>&#x27;close&#x27;</p><p></p></div><div><p>• <!-- -->prices</p><p> (<!-- -->list<!-- -->):</p><p>When specified, this function will use the values provided in the
list to perform calculations and ignore other parameters. </p><p>None</p><p></p></div></div><div class="Doc_paramReturn__35Fxt"><h3>Returns:</h3><p>A list in numpy format, containing RSI values</p></div><div class="Doc_paramRaise__3igaR"><h3>Raises:</h3><ul class="Doc_raises__2IpAt"></ul></div></div><div class="Doc_entry__10WMz" id="sma"><pre class="hljs"><code class="language-python" style="white-space:pre"><span class="">sma(self, symbol, period, interval, ref, prices)</span></code></pre><p>Calculate SMA</p><p></p><div class="Doc_paramHeader__3-mXJ"><h3>Params:</h3><h4>Default</h4><div><p>• <!-- -->symbol</p><p> (<!-- -->str<!-- -->):</p><p>Symbol to perform calculation on. </p><p>first symbol in watchlist</p><p></p></div><div><p>• <!-- -->period</p><p> (<!-- -->int<!-- -->):</p><p>Period of SMA. </p><p>14</p><p></p></div><div><p>• <!-- -->interval</p><p> (<!-- -->str<!-- -->):</p><p>Interval to perform the calculation. </p><p>interval of algorithm</p><p></p></div><div><p>• <!-- -->ref</p><p> (<!-- -->str<!-- -->):</p><p>&#x27;close&#x27;, &#x27;open&#x27;, &#x27;high&#x27;, or &#x27;low&#x27;. </p><p>&#x27;close&#x27;</p><p></p></div><div><p>• <!-- -->prices</p><p> (<!-- -->list<!-- -->):</p><p>When specified, this function will use the values provided in the
list to perform calculations and ignore other parameters. </p><p>None</p><p></p></div></div><div class="Doc_paramReturn__35Fxt"><h3>Returns:</h3><p>A list in numpy format, containing SMA values</p></div><div class="Doc_paramRaise__3igaR"><h3>Raises:</h3><ul class="Doc_raises__2IpAt"></ul></div></div><div class="Doc_entry__10WMz" id="bbands"><pre class="hljs"><code class="language-python" style="white-space:pre"><span class="">bbands(self, symbol, period, interval, ref, dev, prices)</span></code></pre><p>Calculate Bollinger Bands</p><p></p><div class="Doc_paramHeader__3-mXJ"><h3>Params:</h3><h4>Default</h4><div><p>• <!-- -->symbol</p><p> (<!-- -->str<!-- -->):</p><p>Symbol to perform calculation on. </p><p>first symbol in watchlist</p><p></p></div><div><p>• <!-- -->period</p><p> (<!-- -->int<!-- -->):</p><p>Period of BBands. </p><p>14</p><p></p></div><div><p>• <!-- -->interval</p><p> (<!-- -->str<!-- -->):</p><p>Interval to perform the calculation. </p><p>interval of algorithm</p><p></p></div><div><p>• <!-- -->ref</p><p> (<!-- -->str<!-- -->):</p><p>&#x27;close&#x27;, &#x27;open&#x27;, &#x27;high&#x27;, or &#x27;low&#x27;. </p><p>&#x27;close&#x27;</p><p></p></div><div><p>• <!-- -->dev</p><p> (<!-- -->float<!-- -->):</p><p>Standard deviation of the bands. </p><p>1.0</p><p></p></div><div><p>• <!-- -->prices</p><p> (<!-- -->list<!-- -->):</p><p>When specified, this function will use the values provided in the
list to perform calculations and ignore other parameters. </p><p>None</p><p></p></div></div><div class="Doc_paramReturn__35Fxt"><h3>Returns:</h3><p>A tuple of numpy lists, each a list of BBand top, average, and bottom values</p></div><div class="Doc_paramRaise__3igaR"><h3>Raises:</h3><ul class="Doc_raises__2IpAt"></ul></div></div><div class="Doc_entry__10WMz" id="get_account_buying_power"><pre class="hljs"><code class="language-python" style="white-space:pre"><span class="">get_account_buying_power(self)</span></code></pre><p>Returns the current buying power of the user</p><p></p><div class="Doc_paramHeader__3-mXJ"><h3>Params:</h3><h4>Default</h4></div><div class="Doc_paramReturn__35Fxt"><h3>Returns:</h3><p>The current buying power as a float.</p></div><div class="Doc_paramRaise__3igaR"><h3>Raises:</h3><ul class="Doc_raises__2IpAt"></ul></div></div><div class="Doc_entry__10WMz" id="get_account_equity"><pre class="hljs"><code class="language-python" style="white-space:pre"><span class="">get_account_equity(self)</span></code></pre><p>Returns the current equity.</p><p></p><div class="Doc_paramHeader__3-mXJ"><h3>Params:</h3><h4>Default</h4></div><div class="Doc_paramReturn__35Fxt"><h3>Returns:</h3><p>The current equity as a float.</p></div><div class="Doc_paramRaise__3igaR"><h3>Raises:</h3><ul class="Doc_raises__2IpAt"></ul></div></div><div class="Doc_entry__10WMz" id="get_asset_candle"><pre class="hljs"><code class="language-python" style="white-space:pre"><span class="">get_asset_candle(self, symbol)</span></code></pre><p>Returns the most recent candle as a pandas DataFrame</p><p>This function is not compatible with options.</p><div class="Doc_paramHeader__3-mXJ"><h3>Params:</h3><h4>Default</h4><div><p>• <!-- -->symbol</p><p> (<!-- -->str<!-- -->):</p><p>Symbol of stock or crypto asset. </p><p>first symbol in watchlist</p><p></p></div></div><div class="Doc_paramReturn__35Fxt"><h3>Returns:</h3><p>Price of asset as a dataframe with the following columns:</p><ul><li>open</li><li>high</li><li>low</li><li>close</li><li>volume</li></ul><p>

The index is a datetime object</p></div><div class="Doc_paramRaise__3igaR"><h3>Raises:</h3><ul class="Doc_raises__2IpAt"><li><span>Exception: </span>If symbol is not in the watchlist.</li></ul></div></div><div class="Doc_entry__10WMz" id="get_asset_candle_list"><pre class="hljs"><code class="language-python" style="white-space:pre"><span class="">get_asset_candle_list(self, symbol)</span></code></pre><p>Returns the candles of an asset as a pandas DataFrame</p><p>This function is not compatible with options.</p><div class="Doc_paramHeader__3-mXJ"><h3>Params:</h3><h4>Default</h4><div><p>• <!-- -->symbol</p><p> (<!-- -->str<!-- -->):</p><p>Symbol of stock or crypto asset. </p><p>first symbol in watchlist</p><p></p></div></div><div class="Doc_paramReturn__35Fxt"><h3>Returns:</h3><p>Prices of asset as a dataframe with the following columns:</p><ul><li>open</li><li>high</li><li>low</li><li>close</li><li>volume</li></ul><p>

The index is a datetime object</p></div><div class="Doc_paramRaise__3igaR"><h3>Raises:</h3><ul class="Doc_raises__2IpAt"><li><span>Exception: </span>If symbol is not in the watchlist.</li></ul></div></div><div class="Doc_entry__10WMz" id="get_asset_cost"><pre class="hljs"><code class="language-python" style="white-space:pre"><span class="">get_asset_cost(self, symbol)</span></code></pre><p>Returns the average cost of a specified asset.</p><p></p><div class="Doc_paramHeader__3-mXJ"><h3>Params:</h3><h4>Default</h4><div><p>• <!-- -->symbol</p><p> (<!-- -->str<!-- -->):</p><p>Symbol of asset. </p><p>first symbol in watchlist</p><p></p></div></div><div class="Doc_paramReturn__35Fxt"><h3>Returns:</h3><p>Average cost of asset. Returns None if asset is not being tracked.</p></div><div class="Doc_paramRaise__3igaR"><h3>Raises:</h3><ul class="Doc_raises__2IpAt"><li><span>Exception: </span>If symbol is not currently owned.</li></ul></div></div><div class="Doc_entry__10WMz" id="get_date"><pre class="hljs"><code class="language-python" style="white-space:pre"><span class="">get_date(self)</span></code></pre><p>Returns the current date.</p><p></p><div class="Doc_paramHeader__3-mXJ"><h3>Params:</h3><h4>Default</h4></div><div class="Doc_paramReturn__35Fxt"><h3>Returns:</h3><p>The current date as a datetime object</p></div><div class="Doc_paramRaise__3igaR"><h3>Raises:</h3><ul class="Doc_raises__2IpAt"></ul></div></div><div class="Doc_entry__10WMz" id="get_datetime"><pre class="hljs"><code class="language-python" style="white-space:pre"><span class="">get_datetime(self)</span></code></pre><p>Returns the current date and time.</p><p>This returns the current time, which is different from the timestamp
on a ticker. For example, if you are running an algorithm every 5 minutes,
at 11:30am you will get a ticker for 11:25am. This function will return
11:30am.</p><div class="Doc_paramHeader__3-mXJ"><h3>Params:</h3><h4>Default</h4></div><div class="Doc_paramReturn__35Fxt"><h3>Returns:</h3><p>The current date and time as a datetime object</p></div><div class="Doc_paramRaise__3igaR"><h3>Raises:</h3><ul class="Doc_raises__2IpAt"></ul></div></div><div class="Doc_entry__10WMz" id="get_asset_price"><pre class="hljs"><code class="language-python" style="white-space:pre"><span class="">get_asset_price(self, symbol)</span></code></pre><p>Returns the current price of a specified asset.</p><p></p><div class="Doc_paramHeader__3-mXJ"><h3>Params:</h3><h4>Default</h4><div><p>• <!-- -->symbol</p><p> (<!-- -->str<!-- -->):</p><p>Symbol of asset. </p><p>first symbol in watchlist</p><p></p></div></div><div class="Doc_paramReturn__35Fxt"><h3>Returns:</h3><p>Price of asset.</p></div><div class="Doc_paramRaise__3igaR"><h3>Raises:</h3><ul class="Doc_raises__2IpAt"><li><span>Exception: </span>If symbol is not in the watchlist.</li></ul></div></div><div class="Doc_entry__10WMz" id="get_asset_price_list"><pre class="hljs"><code class="language-python" style="white-space:pre"><span class="">get_asset_price_list(self, symbol, interval, ref)</span></code></pre><p>Returns a list of recent prices for an asset.</p><p>This function is not compatible with options.</p><div class="Doc_paramHeader__3-mXJ"><h3>Params:</h3><h4>Default</h4><div><p>• <!-- -->symbol</p><p> (<!-- -->str<!-- -->):</p><p>Symbol of stock or crypto asset. </p><p>first symbol in watchlist</p><p></p></div><div><p>• <!-- -->interval</p><p> (<!-- -->str<!-- -->):</p><p>Interval of data. </p><p>the interval of the algorithm</p><p></p></div><div><p>• <!-- -->ref</p><p> (<!-- -->str<!-- -->):</p><p>&#x27;close&#x27;, &#x27;open&#x27;, &#x27;high&#x27;, or &#x27;low&#x27;. </p><p>&#x27;close&#x27;</p><p></p></div></div><div class="Doc_paramReturn__35Fxt"><h3>Returns:</h3><p>List of prices</p></div><div class="Doc_paramRaise__3igaR"><h3>Raises:</h3><ul class="Doc_raises__2IpAt"></ul></div></div><div class="Doc_entry__10WMz" id="get_asset_quantity"><pre class="hljs"><code class="language-python" style="white-space:pre"><span class="">get_asset_quantity(self, symbol)</span></code></pre><p>Returns the quantity owned of a specified asset.</p><p></p><div class="Doc_paramHeader__3-mXJ"><h3>Params:</h3><h4>Default</h4><div><p>• <!-- -->symbol</p><p> (<!-- -->str<!-- -->):</p><p>Symbol of asset. </p><p>first symbol in watchlist</p><p></p></div></div><div class="Doc_paramReturn__35Fxt"><h3>Returns:</h3><p>Quantity of asset as float. 0 if quantity is not owned.</p></div><div class="Doc_paramRaise__3igaR"><h3>Raises:</h3><ul class="Doc_raises__2IpAt"><li><span>null: </span></li></ul></div></div><div class="Doc_entry__10WMz" id="get_asset_returns"><pre class="hljs"><code class="language-python" style="white-space:pre"><span class="">get_asset_returns(self, symbol)</span></code></pre><p>Returns the return of a specified asset.</p><p></p><div class="Doc_paramHeader__3-mXJ"><h3>Params:</h3><h4>Default</h4><div><p>• <!-- -->symbol</p><p> (<!-- -->str<!-- -->):</p><p>Symbol of stock, crypto, or option. Options should be in <span class="Doc_lookup__1eTBB"><span>A standard for identifying option securities. See <a href='https://en.wikipedia.org/wiki/Option_symbol'>the Wikipedia page</a> for details.</span>OCC</span> format.
</p><p>first symbol in watchlist</p><p></p></div></div><div class="Doc_paramReturn__35Fxt"><h3>Returns:</h3><p>Return of asset, expressed as a decimal.</p></div><div class="Doc_paramRaise__3igaR"><h3>Raises:</h3><ul class="Doc_raises__2IpAt"></ul></div></div><div class="Doc_entry__10WMz" id="get_time"><pre class="hljs"><code class="language-python" style="white-space:pre"><span class="">get_time(self)</span></code></pre><p>Returns the current hour and minute.</p><p>This returns the current time, which is different from the timestamp
on a ticker. For example, if you are running an algorithm every 5 minutes,
at 11:30am you will get a ticker for 11:25am. This function will return
11:30am.</p><div class="Doc_paramHeader__3-mXJ"><h3>Params:</h3><h4>Default</h4></div><div class="Doc_paramReturn__35Fxt"><h3>Returns:</h3><p>The current time as a datetime object</p></div><div class="Doc_paramRaise__3igaR"><h3>Raises:</h3><ul class="Doc_raises__2IpAt"></ul></div></div><h2 class="Doc_className__38Gp3">harvest.Trader</h2><div class="Doc_entry__10WMz" id="start"><pre class="hljs"><code class="language-python" style="white-space:pre"><span class="">start(self, interval, aggregations, sync)</span></code></pre><p>Entry point to start the system.</p><p></p><div class="Doc_paramHeader__3-mXJ"><h3>Params:</h3><h4>Default</h4><div><p>• <!-- -->interval</p><p> (<!-- -->str<!-- -->):</p><p>The interval to run the algorithm. </p><p>&#x27;5MIN&#x27;</p><p></p></div><div><p>• <!-- -->aggregations</p><p> (<!-- -->list[str]<!-- -->):</p><p>A list of intervals. The Trader will aggregate data to the intervals specified in this list.
For example, if this is set to [&#x27;5MIN&#x27;, &#x27;30MIN&#x27;], and interval is &#x27;1MIN&#x27;, the algorithm will have access to
5MIN, 30MIN aggregated data in addition to 1MIN data. </p><p>None</p><p></p></div><div><p>• <!-- -->sync</p><p> (<!-- -->bool<!-- -->):</p><p>If true, the system will sync with the broker and fetch current positions and pending orders. </p><p>true</p><p></p></div></div><div class="Doc_paramReturn__35Fxt"><h3>Returns:</h3></div><div class="Doc_paramRaise__3igaR"><h3>Raises:</h3><ul class="Doc_raises__2IpAt"></ul></div></div><div class="Doc_entry__10WMz" id="set_symbol"><pre class="hljs"><code class="language-python" style="white-space:pre"><span class="">set_symbol(self)</span></code></pre><p>Specifies the symbol(s) to watch.</p><p>Cryptocurrencies should be prepended with an `@` to differentiate them from stocks.
For example, &#x27;@ETH&#x27; will refer to Etherium, while &#x27;ETH&#x27; will refer to Ethan Allen Interiors.
If this method was previously called, the symbols specified earlier will be replaced with the
new symbols.</p><div class="Doc_paramHeader__3-mXJ"><h3>Params:</h3><h4>Default</h4></div><div class="Doc_paramReturn__35Fxt"><h3>Returns:</h3></div><div class="Doc_paramRaise__3igaR"><h3>Raises:</h3><ul class="Doc_raises__2IpAt"></ul></div></div><div class="Doc_entry__10WMz" id="set_algo"><pre class="hljs"><code class="language-python" style="white-space:pre"><span class="">set_algo(self, algo)</span></code></pre><p>Specifies the algorithm to use.</p><p></p><div class="Doc_paramHeader__3-mXJ"><h3>Params:</h3><h4>Default</h4><div><p>• <!-- -->algo</p><p> (<!-- -->Algo<!-- -->):</p><p>The algorithm to use. You can either pass in a single Algo class, or a
list of Algo classes</p><p></p><p></p></div></div><div class="Doc_paramReturn__35Fxt"><h3>Returns:</h3></div><div class="Doc_paramRaise__3igaR"><h3>Raises:</h3><ul class="Doc_raises__2IpAt"></ul></div></div><h2 class="Doc_className__38Gp3">harvest.BackTester</h2><div class="Doc_entry__10WMz" id="start"><pre class="hljs"><code class="language-python" style="white-space:pre"><span class="">start(self, interval, aggregations, source, path)</span></code></pre><p>Runs backtesting.</p><p>The interface is very similar to the Trader class, with some additional parameters for specifying
backtesting configurations.</p><div class="Doc_paramHeader__3-mXJ"><h3>Params:</h3><h4>Default</h4><div><p>• <!-- -->interval</p><p> (<!-- -->str<!-- -->):</p><p>The interval to run the algorithm on. </p><p>&#x27;5MIN&#x27;</p><p></p></div><div><p>• <!-- -->aggregations</p><p> (<!-- -->List[str]<!-- -->):</p><p>The aggregations to run. </p><p>[]</p><p></p></div><div><p>• <!-- -->source</p><p> (<!-- -->str<!-- -->):</p><p>The source of backtesting data.
&#x27;FETCH&#x27; will pull the latest data using the broker (if specified).
&#x27;CSV&#x27; will read data from a locally saved CSV file.
&#x27;PICKLE&#x27; will read data from a locally saved pickle file, generated using the Trader class.
</p><p>&#x27;PICKLE&#x27;</p><p></p></div><div><p>• <!-- -->path</p><p> (<!-- -->str<!-- -->):</p><p>The path to the directory which backtesting data is stored.
This parameter must be set accordingly if &#x27;source&#x27; is set to &#x27;CSV&#x27; or &#x27;PICKLE&#x27;. </p><p>&#x27;./data&#x27;</p><p></p></div></div><div class="Doc_paramReturn__35Fxt"><h3>Returns:</h3></div><div class="Doc_paramRaise__3igaR"><h3>Raises:</h3><ul class="Doc_raises__2IpAt"></ul></div></div></section></main><footer class="Home_footer__2v49s"><section class="Home_section__354aW"><div><img src="/harvest//wordmark.svg" alt="img"/><a href="https://github.com/tfukaza/harvest/issues/new?assignees=&amp;labels=bug&amp;template=bug_report.md&amp;title=%5B%F0%9F%AA%B0BUG%5D">Report a Bug</a><a href="https://github.com/tfukaza/harvest/issues/new?assignees=&amp;labels=enhancement%2C+question&amp;template=feature-request.md&amp;title=%5B%F0%9F%92%A1Feature+Request%5D">Suggest a Feature</a></div><div><h3>Special thanks to these projects:</h3><a href="https://github.com/jmfernandes/robin_stocks">robin_stocks</a></div></section></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{}},"page":"/docs","query":{},"buildId":"JpIQgAprTbrp6nyKNLuiq","assetPrefix":"/harvest","nextExport":true,"autoExport":true,"isFallback":false,"scriptLoader":[]}</script></body></html>